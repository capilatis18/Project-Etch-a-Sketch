<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project: Etch-a-Sketch</title>
    <link href="estilos.css" rel="stylesheet" type="text/css">
</head>
<body>
    <header class="title">
        <h1>Etch-a-Sketch</h1>
    </header>

        <div class="side">
        <button id="btn">Change Size</button>
        <button id="colorBtn">Rgb</button>
        <button id="blackBtn">Black</button>
    </div>

    <div id="container" class="container">

    </div>
</body>
</html>

<script>
    const container = document.querySelector('#container');
    let div = ``;
    let size = 16;
    function gridArea(sizeGrid){
        
        for (let index = 1; index <= sizeGrid ** 2 ; index++) {
            // Creacion de Elementos
            const div = document.createElement('div');
            div.classList.add('divs');
            container.appendChild(div);
            // Estilo de la cuadricula
            div.style.border = '0.5px solid black';
            container.style.gridTemplateColumns = `repeat(${sizeGrid}, auto)`;
            container.style.gridTemplateRows = `repeat(${sizeGrid}, auto)`;
            // Efecto hover
            div.addEventListener('mouseover', () => {
                div.style.background = 'black';
            });
        }
}
        gridArea(size);

        // Funcion para limpiar la grilla
        const box = document.querySelectorAll('.divs');
        function clear(){
            box.forEach( box => box.remove());
        }

        // Boton 'Change size' 
        const btn = document.querySelector('#btn');
        btn.addEventListener('click', () =>{
            
           let promp = prompt("Change the Grid's size!");
            if (promp === null || promp > 64) {
                alert(`The grid's limit is 64x64`);
                clear();
                gridArea(size);
                gray();
            }
            else {
                clear();
                gridArea(promp);
                rgb();
                black();
            }
    });

        // Boton RGB
        function rgb(){
            const box = document.querySelectorAll('.divs');
        const colorBtn = document.querySelector(`#colorBtn`);
        colorBtn.addEventListener('click', () => {
            box.forEach(box  => box.addEventListener('mouseover', () => {
                let R = Math.floor(Math.random() * 255)
                let G = Math.floor(Math.random() * 255)
                let B = Math.floor(Math.random() * 255)
                box.style.background = `rgb(${R}, ${G}, ${B})`;
                
            }))
        })}
        // Boton Black
        function black(){
        const box = document.querySelectorAll('.divs');
        const blackBtn = document.querySelector(`#blackBtn`);
        blackBtn.addEventListener('click', () => {
            box.forEach(box => box.addEventListener('mouseover', () => {
                box.style.background = `black`;
            }))
        })}

        rgb();
        black();
</script>